<form [formGroup]="policialForm" (ngSubmit)="onSubmit()">
    <h2>Cadastrar Policial</h2>
    <div *ngIf="successMsg" class="msg-success">{{ successMsg }}</div>
    <div *ngIf="errorMsg" class="msg-error">{{ errorMsg }}</div>
    <div *ngIf="loading" class="msg-loading">Enviando...</div>

    <label for="rg_civil">RG Civil:</label>
    <input id="rg_civil" type="text" formControlName="rg_civil" required />
    <div *ngIf="policialForm.get('rg_civil')?.invalid && policialForm.get('rg_civil')?.touched"
        style="color:#e74c3c;font-size:0.97rem;">RG Civil é obrigatório.</div>

    <label for="rg_militar">RG Militar:</label>
    <input id="rg_militar" type="text" formControlName="rg_militar" required />
    <div *ngIf="policialForm.get('rg_militar')?.invalid && policialForm.get('rg_militar')?.touched"
        style="color:#e74c3c;font-size:0.97rem;">RG Militar é obrigatório.</div>

    <label for="cpf">CPF:</label>
    <input id="cpf" type="text" formControlName="cpf" maxlength="11" required />
    <div *ngIf="cpfErro" style="color:#e74c3c;font-size:0.97rem;">{{ cpfErro }}</div>
    <div *ngIf="policialForm.get('cpf')?.invalid && policialForm.get('cpf')?.touched && !cpfErro"
        style="color:#e74c3c;font-size:0.97rem;">CPF é obrigatório e deve conter 11 dígitos numéricos.</div>

    <label for="data_nascimento">Data de Nascimento:</label>
    <input id="data_nascimento" type="date" formControlName="data_nascimento" required />
    <div *ngIf="policialForm.get('data_nascimento')?.invalid && policialForm.get('data_nascimento')?.touched"
        style="color:#e74c3c;font-size:0.97rem;">Data de nascimento é obrigatória.</div>

    <label for="matricula">Matrícula:</label>
    <input id="matricula" type="text" formControlName="matricula" required />
    <div *ngIf="policialForm.get('matricula')?.invalid && policialForm.get('matricula')?.touched"
        style="color:#e74c3c;font-size:0.97rem;">Matrícula é obrigatória.</div>

    <button type="submit" [disabled]="loading">Cadastrar</button>
    <button type="reset">Limpar</button>
</form>
<div style="display: flex; justify-content: center; margin-top: 18px;">
    <button type="button" (click)="verPoliciais()">Ver policiais cadastrados</button>
</div>